if (self.CavalryLogger) { CavalryLogger.start_js(["83Ih3"]); }

__d("EventPlanTimeHelper",["DateConsts","EventReminderConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("EventReminderConstants").TimeErrorType;a={getTimeErrorType:function(a){a=new Date(a);var b=new Date(),c=new Date(new Date().setFullYear(new Date().getFullYear()+1));if(a<=b)return g.PAST_TIME;else if(a>=c)return g.AFTER_ONE_YEAR;else return g.NO_ERROR},getDefaultDateTime:function(a){if(a)return a*b("DateConsts").MS_PER_SEC;a=new Date();a.setHours(a.getHours()+1);a.setMinutes(0);return a.getTime()}};e.exports=a}),null);
__d("EventPlanUtils",["EventRemindersGating","EventReminderStateStore","MercuryIDs","ShortProfiles","getPageIDFromThreadID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isAllowedtoStartPlanWithRecipients:function(a){__p&&__p();if(b("getPageIDFromThreadID")(a))return!1;var c=b("MercuryIDs").getUserIDFromThreadID(a);if(c){c=b("ShortProfiles").getNow(c);if(!c||!c.is_friend)return!1}c=b("EventReminderStateStore").getEvent(a);return!(c&&c.exists)&&b("EventRemindersGating").isCreateAllowed}};e.exports=a}),null);
__d("LightweightEventDateTimePicker.react",["ix","cx","fbt","invariant","DatePickerRestraints","EventPlanTimeHelper","EventReminderConstants","Image.react","React","XUICalendar.react","XUIDateTimePicker.react","emptyFunction","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("EventReminderConstants").TimeErrorType;c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(a){k.constructor.call(this,a),this.$1=function(a){a=a.getTime();var c=b("EventPlanTimeHelper").getTimeErrorType(a);this.setState({dateTime:a,showTimeError:c});this.props.onDateTimeChange(a,c)}.bind(this),this.state={dateTime:this.props.initialDateTime,showTimeError:l.NO_ERROR}}a.prototype.render=function(){__p&&__p();var a=b("XUICalendar.react").normalizeDate(new Date());a=[b("DatePickerRestraints").enforceDateIsNoEarlierThan(a)];var c=void 0;switch(this.state.showTimeError){case l.PAST_TIME:c=i._("L\u2019heure de l\u2019\u00e9v\u00e8nement doit \u00eatre dans le futur.");break;case l.AFTER_ONE_YEAR:c=i._("S\u00e9lectionnez une date d\u2019ici \u00e0 un an.");break;case l.NO_ERROR:c=null;break;default:j(0)}return b("React").createElement("div",{className:"_lny"},b("React").createElement(b("XUIDateTimePicker.react"),{date:new Date(this.state.dateTime),dateIcon:b("React").createElement(b("Image.react"),{src:g("125721")}),dateRestraints:a,onChange:this.$1,xuiError:c}),b("React").createElement("span",{className:"_lo4","aria-label":i._("Ic\u00f4ne horloge")}))};a.defaultProps={onDateTimeChange:b("emptyFunction")};e.exports=a}),null);
__d("LightweightEventLocationTypeahead.react",["cx","fbt","AddressTypeahead.react","AddressTypeaheadCaller","AddressTypeaheadDisplayOrder","AddressTypeaheadIntegration","AddressTypeaheadProvider","AddressTypeaheadSearchSourceConfig","AddressTypeaheadType","React","XUIContextualDialog.react","XUITypeaheadView.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=3,k="lightweight_events_creation";c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";__p&&__p();i.constructor.call(this,a),this.$5=function(a){var b=this.$2(a),c=this.$3(a);a=this.$4(a);this.setState({queryString:c});this.props.onLocationSelect(b,c,a)}.bind(this),this.$6=function(event){var a="";event.target instanceof HTMLInputElement&&(a=event.target.value);this.setState({queryString:a});this.props.onLocationChange(a)}.bind(this),this.state={queryString:this.props.initialQueryString}}a.prototype.$2=function(a){"use strict";a=a.getAuxiliaryData();return a&&a.resultType&&a.resultType==="place"?a.locationID:""};a.prototype.$3=function(a){"use strict";var b=a.getAuxiliaryData();if(b)if(b.freeformEntry)return b.selectedTitle;else if(b.resultType==="street")return a.getSubtitle();return a.getTitle()};a.prototype.$4=function(a){"use strict";a=a.getAuxiliaryData();return a?a.full_address:""};a.prototype.$7=function(){"use strict";return new(b("AddressTypeaheadSearchSourceConfig"))(null,null,b("AddressTypeaheadProvider").HERE_THRIFT,b("AddressTypeaheadType").STREET_PLACE_TYPEAHEAD,b("AddressTypeaheadIntegration").STRING_MATCH,b("AddressTypeaheadDisplayOrder").INTERLEAVE,j,b("AddressTypeaheadCaller").LIGHTWEIGHT_EVENTS_CREATION)};a.prototype.focusInput=function(){"use strict";this.$1&&this.$1.focusInput()};a.prototype.componentDidMount=function(){"use strict";this.focusInput()};a.prototype.render=function(){"use strict";({});this.props.useDropDown==!1&&({layerComponent:b("XUIContextualDialog.react"),layerPosition:"left",useDialog:!0});return b("React").createElement(b("AddressTypeahead.react"),babelHelpers["extends"]({},this.props,{className:"_1t92",config:this.$7(),isFreeFormQueryAllowed:!0,queryString:this.state.queryString,onSelectAttempt:this.$5,onChange:this.$6,placeholder:h._("Choisissez un lieu"),productTag:k,ref:function(a){return this.$1=a}.bind(this),layerComponent:this.props.layerComponent,layerPosition:this.props.layerPosition,useDialog:!0,viewRenderer:this.props.viewRenderer}))};a.defaultProps={initialQueryString:"",layerComponent:b("XUIContextualDialog.react"),layerPosition:"left",onLocationChange:b("emptyFunction"),onLocationSelect:b("emptyFunction"),useDropDown:!1,viewRenderer:b("XUITypeaheadView.react")};e.exports=a}),null);
__d("LightweightEventLocationRow.react",["cx","LightweightEventLocationTypeahead.react","React","ReactDOM","ShimButton.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=262;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$1=function(){if(this.props.disabled)return;this.setState({showTypeahead:!0})}.bind(this),this.$2=function(a,b,c){this.setState({locationName:b,locationAddress:c,showTypeahead:!1}),this.props.onLocationSelect(a,b,c)}.bind(this),this.state={locationName:this.props.initialLocationName,locationAddress:this.props.initialLocationAddress,showTypeahead:!this.props.initialLocationName}}a.prototype.render=function(){__p&&__p();var a=this.state,c=a.locationName,d=a.locationAddress;a=a.showTypeahead;var e=this.props,f=e.onLocationChange;e=e.useDropDown;if(!a)return b("React").createElement(b("ShimButton.react"),{className:"_16yp",onClick:this.$1},b("React").createElement("div",null,b("React").createElement("div",{className:"_16yq"},c),b("React").createElement("div",{className:"_16yr"},d)));a="left";d=b("ReactDOM").findDOMNode(this.refs.typeahead);d&&d instanceof Element&&d.getBoundingClientRect().left<i&&(a="right");return b("React").createElement(b("LightweightEventLocationTypeahead.react"),{initialQueryString:c,layerPosition:a,onLocationChange:f,onLocationSelect:this.$2,useDropDown:e,ref:"typeahead"})};a.defaultProps={disabled:!1,initialLocationName:"",initialLocationAddress:"",onLocationChange:b("emptyFunction"),onLocationSelect:b("emptyFunction"),useDropDown:!1};e.exports=a}),null);
__d("MessengerCommerceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerCommerceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerCommerceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerCommerceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppOrPagePerm=function(a){this.$1.app_or_page_perm=a;return this};a.prototype.setAttachmentIds=function(a){this.$1.attachment_ids=a;return this};a.prototype.setBatchSize=function(a){this.$1.batch_size=a;return this};a.prototype.setBrandAppID=function(a){this.$1.brand_app_id=a;return this};a.prototype.setBroadcastID=function(a){this.$1.broadcast_id=a;return this};a.prototype.setCallSite=function(a){this.$1.call_site=a;return this};a.prototype.setCellNum=function(a){this.$1.cell_num=a;return this};a.prototype.setCtaExtraData=function(a){this.$1.cta_extra_data=a;return this};a.prototype.setCtaExtraStats=function(a){this.$1.cta_extra_stats=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCtaID=function(a){this.$1.cta_id=a;return this};a.prototype.setCtaKind=function(a){this.$1.cta_kind=a;return this};a.prototype.setCtaKindStats=function(a){this.$1.cta_kind_stats=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCtaTypeStats=function(a){this.$1.cta_type_stats=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCustomLabelID=function(a){this.$1.custom_label_id=a;return this};a.prototype.setDebugData=function(a){this.$1.debug_data=a;return this};a.prototype.setEntityID=function(a){this.$1.entity_id=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setException=function(a){this.$1.exception=a;return this};a.prototype.setFirstSeqID=function(a){this.$1.first_seq_id=a;return this};a.prototype.setHasImplicitSubscriptionPerm=function(a){this.$1.has_implicit_subscription_perm=a;return this};a.prototype.setHasSubscriptionPerm=function(a){this.$1.has_subscription_perm=a;return this};a.prototype.setIsProd=function(a){this.$1.is_prod=a;return this};a.prototype.setIsTestPayment=function(a){this.$1.is_test_payment=a;return this};a.prototype.setLastSeqID=function(a){this.$1.last_seq_id=a;return this};a.prototype.setLatency=function(a){this.$1.latency=a;return this};a.prototype.setMessageBody=function(a){this.$1.message_body=a;return this};a.prototype.setMessageClassification=function(a){this.$1.message_classification=a;return this};a.prototype.setMessageFolder=function(a){this.$1.message_folder=a;return this};a.prototype.setMessageID=function(a){this.$1.message_id=a;return this};a.prototype.setMessageType=function(a){this.$1.message_type=a;return this};a.prototype.setNmorOrderType=function(a){this.$1.nmor_order_type=a;return this};a.prototype.setNumQuickReplies=function(a){this.$1.num_quick_replies=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPixelID=function(a){this.$1.pixel_id=a;return this};a.prototype.setPrometheusLag=function(a){this.$1.prometheus_lag=a;return this};a.prototype.setQuickReplyContentTypeStats=function(a){this.$1.quick_reply_content_type_stats=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setRating=function(a){this.$1.rating=a;return this};a.prototype.setRecipientID=function(a){this.$1.recipient_id=a;return this};a.prototype.setSenderID=function(a){this.$1.sender_id=a;return this};a.prototype.setSubscriptionID=function(a){this.$1.subscription_id=a;return this};a.prototype.setSyncToken=function(a){this.$1.sync_token=a;return this};a.prototype.setTargetSpecID=function(a){this.$1.target_spec_id=a;return this};a.prototype.setThreadID=function(a){this.$1.thread_id=a;return this};a.prototype.setTotalRatingSum=function(a){this.$1.total_rating_sum=a;return this};a.prototype.setTotalReviewCount=function(a){this.$1.total_review_count=a;return this};a.prototype.setUserFbid=function(a){this.$1.user_fbid=a;return this};a.prototype.setUserPhoneNumber=function(a){this.$1.user_phone_number=a;return this};a.prototype.setUserPsid=function(a){this.$1.user_psid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWaterfallLogID=function(a){this.$1.waterfall_log_id=a;return this};a.prototype.setWebhookURL=function(a){this.$1.webhook_url=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={app_or_page_perm:!0,attachment_ids:!0,batch_size:!0,brand_app_id:!0,broadcast_id:!0,call_site:!0,cell_num:!0,cta_extra_data:!0,cta_extra_stats:!0,cta_id:!0,cta_kind:!0,cta_kind_stats:!0,cta_type_stats:!0,custom_label_id:!0,debug_data:!0,entity_id:!0,error_type:!0,event:!0,exception:!0,first_seq_id:!0,has_implicit_subscription_perm:!0,has_subscription_perm:!0,is_prod:!0,is_test_payment:!0,last_seq_id:!0,latency:!0,message_body:!0,message_classification:!0,message_folder:!0,message_id:!0,message_type:!0,nmor_order_type:!0,num_quick_replies:!0,page_id:!0,pixel_id:!0,prometheus_lag:!0,quick_reply_content_type_stats:!0,rating:!0,recipient_id:!0,sender_id:!0,subscription_id:!0,sync_token:!0,target_spec_id:!0,thread_id:!0,total_rating_sum:!0,total_review_count:!0,user_fbid:!0,user_phone_number:!0,user_psid:!0,vc:!0,waterfall_log_id:!0,webhook_url:!0};e.exports=a}),null);
__d("ChangeChatTabColorDialog",["ix","cssVar","cx","fbt","Grid.react","Image.react","MercuryThreads","MessagingThreadCustomizationConfig","MessengerCustomThreadColorButtonReact.bs","MessagingThreadCustomizationSource","React","SimpleXUIDialog","MercuryThreadActions","XUIDialogCancelButton.react","convertMIGColorToFIGColor","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("Grid.react").GridItem,l=b("MercuryThreads").get(),m=b("MessengerCustomThreadColorButtonReact.bs").jsComponent,n=b("MercuryThreadActions").get(),o="Unknown Color";a={show:function(a,c){__p&&__p();var d=l.getThreadMetaNow(a),e=d&&d.custom_color?d.custom_color:"#0084ff";d=355;var f=null,h=["#0084ff"].concat(b("MessagingThreadCustomizationConfig").colorChoices),i=b("MessagingThreadCustomizationConfig").colorNames;h=h.map(function(c){return b("React").createElement(k,{key:c,className:"_gs0"},b("React").createElement("div",null,c.toLowerCase()==e.toLowerCase()?b("React").createElement(b("Image.react"),{className:"_gs2",src:g("114570")}):null,b("React").createElement(m,{colorChoice:b("convertMIGColorToFIGColor")(c)||c,colorName:i[c]||o,isSelected:c===e,onChoose:function(){p(f,a,c,e)}})))});var n=j._("Choisissez une couleur pour cette conversation");h=b("React").createElement("div",{className:"_gs3 _430z"},b("React").createElement("div",{className:"_28he"},j._("Tous les participants de cette conversation le verront.")),b("React").createElement(b("Grid.react"),{cols:5,className:"_gs4"},h));var q=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null));f=b("SimpleXUIDialog").showEx(h,n,q,null,{width:d,causalElement:c})}};function p(a,c,d,e){d!=e&&(n.changeThreadColor(c,d,b("MessagingThreadCustomizationSource").SETTINGS),a&&a.hide())}e.exports=a}),null);
__d("LightweightEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT:"EVENT",CALL:"CALL",DIRECT_M:"DIRECT_M",M_REMINDER:"M_REMINDER"})}),null);
__d("XCreateEventReminderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/create/",{acontext:{type:"String",required:!0},event_type:{type:"Enum",required:!0,enumType:1},event_time:{type:"Int"},thread_id:{type:"Int",required:!0},title:{type:"String"},location_id:{type:"String"},location_name:{type:"String"},related_event_id:{type:"Int"}})}),null);
__d("ChatStartPlanDialogHelper",["cx","fbt","AsyncRequest","DateConsts","EventPlanTimeHelper","EventReminderConstants","EventRemindersGating","EventsActionsLogger","FBJSON","LightweightEventDateTimePicker.react","LightweightEventLocationRow.react","LightweightEventType","MercuryIDs","React","SimpleXUIDialog","DialogX","XCreateEventReminderController","XUIButton.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("EventReminderConstants").TimeErrorType;function a(){this.$9=function(a,b){this.$1=a,this.$6=b}.bind(this),this.$11=function(a){this.$3="",this.$4=a,this.$5=""}.bind(this),this.$12=function(a,b,c){this.$3=a,this.$4=b,this.$5=c}.bind(this)}a.prototype.showDialog=function(a){this.$7();var c=null,d=this.$8(),e=b("React").createElement("div",null,b("React").createElement(b("LightweightEventDateTimePicker.react"),{initialDateTime:this.$1,onDateTimeChange:this.$9}),b("React").createElement("hr",null),b("React").createElement(b("XUITextInput.react"),{className:"_2l1n","aria-label":h._("Nom de l\u2019\u00e9v\u00e8nement"),placeholder:h._("Nom"),onChange:function(event){return this.$10(event)}.bind(this)}),b("React").createElement("hr",null),b("React").createElement(b("LightweightEventLocationRow.react"),{onLocationChange:this.$11,onLocationSelect:this.$12,useDropDown:!0})),f=b("React").createElement(b("XUIButton.react"),{label:this.$13(),use:"confirm",onClick:function(){return this.$14(c,a)}.bind(this)});c=b("SimpleXUIDialog").showEx(e,d,f,null)};a.prototype.$7=function(){this.$1=b("EventPlanTimeHelper").getDefaultDateTime(),this.$2="",this.$3="",this.$4="",this.$5="",this.$6=i.NO_ERROR};a.prototype.$10=function(event){this.$2=event.target.value};a.prototype.$14=function(a,c){if(this.$6!==i.NO_ERROR)return;c=b("MercuryIDs").getThreadFBIDFromThreadID(c);var d={action_history:[{surface:b("EventsActionsLogger").Surface.MESSENGER_CHAT_TAB,mechanism:b("EventsActionsLogger").Mechanism.MESSENGER_THREAD_SETTINGS}]};d=b("XCreateEventReminderController").getURIBuilder().setString("acontext",b("FBJSON").stringify(d)).setEnum("event_type",b("LightweightEventType").EVENT).setInt("event_time",Math.floor(this.$1/b("DateConsts").MS_PER_SEC)).setInt("thread_id",c).setString("title",this.$2).setString("location_id",this.$3).setString("location_name",this.$4);new(b("AsyncRequest"))(d.getURI()).setHandler(function(b){b.payload&&a&&a.hide()}).send()};a.prototype.$8=function(){return b("EventRemindersGating").shouldUseNewName?h._("Projet"):h._("Rappel d\u2019\u00e9v\u00e8nement")};a.prototype.$13=function(){return b("EventRemindersGating").shouldUseNewName?h._("Cr\u00e9er un programme"):h._("Cr\u00e9er")};e.exports=new a()}),null);
__d("EditChatTabNicknameDialog",["cx","fbt","MercuryIDs","MessengerDialogHeader.react","MessengerTextWithEmojiInput.react","MessagingThreadCustomizationConfig","MessagingThreadCustomizationSource","MessengerDialogCancelButton.react","MessengerDialogButton.react","MessengerDialogFooter.react","MercuryThreadActions","React","SimpleXUIDialog"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadActions").get(),j=400;a={show:function(a,c,d,e,f){var g=null,i=b("MercuryIDs").getUserIDFromParticipantID(c.id);i=i===e?h._("Modifier votre pseudo"):h._("Modifier le pseudo de {personName}",[h._param("personName",c.name)]);e=b("React").createElement("div",{className:"_2c1u"},b("React").createElement(b("MessengerDialogHeader.react"),null,i));i=b("React").createElement("div",{className:"_2c1u"},b("React").createElement("div",{className:"_21g-"},b("React").createElement("div",{className:"_-bo"},h._("Tous les participants de cette conversation le verront.")),b("React").createElement(b("MessengerTextWithEmojiInput.react"),{className:"_2c1v",initialValue:d,onReturn:function(){return this._handleSave(g,a,c,d)}.bind(this),maxLength:b("MessagingThreadCustomizationConfig").maxNicknameLength,placeholder:c.name})));var k=b("React").createElement("div",{className:"_2c1u"},b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),null),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("Enregistrer"),onClick:function(){return this._handleSave(g,a,c,d)}.bind(this),type:"primary"})));g=b("SimpleXUIDialog").showEx(i,e,k,null,{NICKNAME_DIALOG_WIDTH:j,causalElement:f})},_handleSave:function(a,c,d,e){if(!a)return;var f=a._reactContainer.querySelector("[data-text]").textContent;f!==e&&i.changeThreadNicknames(c,b("MercuryIDs").getUserIDFromParticipantID(d.id),f,b("MessagingThreadCustomizationSource").SETTINGS);a.hide()}};e.exports=a}),null);
__d("EditChatTabNicknamesDialog",["cx","fbt","EditChatTabNicknameDialog","immutable","ImmutableObject","MercuryThreads","MercuryIDs","MessengerAdminGroupUtils","MercuryParticipants","MessengerContactList.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerScrollableArea.react","React","SimpleXUIDialog","XUIDialogCancelButton.react","idx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreads").get(),j=200,k=350;a={show:function(a,c,d){__p&&__p();var e=null,f=i.getThreadMetaNow(a);a=b("immutable").Map().withMutations(function(a){if(!f)return;f.participants&&f.participants.forEach(function(c){a.set(c,b("MercuryParticipants").getOrFetch(c))});f.is_subscribed&&a.set(b("MercuryIDs").getParticipantIDFromUserID(c),b("MercuryParticipants").getOrFetch(b("MercuryIDs").getParticipantIDFromUserID(c)))});var g=b("MessengerAdminGroupUtils").isJoinableThread(f);a=a.filter(function(a){if(!a)return!1;a=b("MercuryIDs").getUserIDFromParticipantID(a.id);return g&&a===c||!g}).toArray();var l=b("React").createElement("div",{className:"_4h9n"},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogTitle.react"),null,h._("Modifier les surnoms"))));a=b("React").createElement("div",{className:"_4h9n"},b("React").createElement("div",{className:"_4h9o"},b("React").createElement(b("MessengerScrollableArea.react"),{height:"100%"},b("React").createElement(b("MessengerContactList.react"),{contactAdapter:function(a){return this._fromMercuryParticipant(a,f)}.bind(this),disableRole:!0,listSections:b("immutable").OrderedMap([[null,a]]),onSelect:function(a){e&&e.hide(),setTimeout(function(){return this._handleContactSelect(a,f,c)}.bind(this),j)}.bind(this),rowClassName:"_44kr",viewer:c,thread:f}))));var m=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null));e=b("SimpleXUIDialog").showEx(a,l,m,null,{NICKNAME_DIALOG_WIDTH:k,causalElement:d})},_handleContactSelect:function(a,c,d){var e,f=b("MercuryIDs").getUserIDFromParticipantID(a.id);f=((e=c)!=null?(e=e.custom_nickname)!=null?e[f]:e:e)||"";e=c.thread_id;b("EditChatTabNicknameDialog").show(e,a,f,d,this.linkRef)},_fromMercuryParticipant:function(a,c){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id),e=a.name,f="";c.custom_nickname&&c.custom_nickname[d]&&(e=c.custom_nickname[d],f=a.name);return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:e,subtitle:f,type:a.type,isMessengerUser:a.is_messenger_user,href:a.href})}};e.exports=a}),null);
__d("WebMessengerDeleteSyncedGroupDialog",["fbt","React","SimpleXUIDialog","XUIDialogButton.react","XUIDialogCancelButton.react"],(function(a,b,c,d,e,f,g){"use strict";a={show:function(a,c){var d=g._("Supprimer le groupe Facebook"),e=g._("La d\u00e9sactivation du groupe Facebook le supprimera pour tous ses membres, de mani\u00e8re d\u00e9finitive."),f=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("Delete"),use:"confirm",onClick:function(){a&&a()}}));b("SimpleXUIDialog").showEx(e,d,f,c)}};e.exports=a}),null);
__d("WebMessengerDeleteThreadDialog",["fbt","React","SimpleXUIDialog","MercuryThreadActions","XUIDialogButton.react","XUIDialogCancelButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MercuryThreadActions").get();a={show:function(a,c,d,e){var f=g._("Supprimer cette conversation\u00a0?"),i=g._("La suppression de votre copie de cette conversation est irr\u00e9versible."),j=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("Supprimer la conversation"),use:"confirm",onClick:function(){h["delete"](a),c&&c()}}));b("SimpleXUIDialog").showEx(i,f,j,d,{causalElement:e})}};e.exports=a}),null);
__d("ChatDetailStack.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.bottomDetail;a=a.topDetail;return b("React").createElement("div",{className:"_2rt2"},b("React").createElement("div",{className:"_2rt3"},a),b("React").createElement("div",{className:"_2rt4"},c))}e.exports=a}),null);
__d("ChatDialogConfirmationButtons.react",["fbt","React","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={confirmActionIndex:null},this.$1=function(a){a=this.props.buttons;var b=this.state.confirmActionIndex;if(!!b||b===0){this.setState({confirmActionIndex:null});a=a[b];a&&a.onClick()}}.bind(this),this.$2=function(){this.setState({confirmActionIndex:null})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props.buttons,c=this.state.confirmActionIndex,d=g._("Vraiment\u00a0?"),e=g._("Annuler");if(!!c||c===0)return b("React").createElement("span",null,b("React").createElement(b("XUIButton.react"),{key:"confim",label:d,onClick:this.$1,use:"confirm"},d),b("React").createElement(b("XUIButton.react"),{key:"cancel",label:e,onClick:this.$2},e));else return a.map(function(a,c){var d=a.label,e=a.onClick;a=a.requiresConfirmation;if(a)return b("React").createElement(b("XUIButton.react"),{key:"button-requiresConfirmation-"+c,label:d,onClick:function(){this.$3(c)}.bind(this)},d);else return b("React").createElement(b("XUIButton.react"),{key:"button-"+c,label:d,onClick:e},d)}.bind(this))};a.prototype.$3=function(a){this.setState({confirmActionIndex:a})};e.exports=a}),null);
__d("ChatGroupMembershipAdminTab.react",["cx","fbt","ChatDetailStack.react","ChatDialogConfirmationButtons.react","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryThreadActions","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get(),k=50;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.admins,c=h._("Supprimer des administrateurs"),d=!!a.find(function(a){return a.id===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())});a=a.reduce(function(a,e){var f="",g=e.id;f=b("React").createElement("li",{className:"_2ll0 _2pi3",key:g},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:k,profiles:[{image_src:e.image_src,name:e.name}]})),b("React").createElement(b("ChatDetailStack.react"),{bottomDetail:f,topDetail:e.name}),d?b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:[{label:c,onClick:function(){this.$1(g)}.bind(this),requiresConfirmation:!0}]})):null);g===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())?a.unshift(f):a.push(f);return a}.bind(this),[]);return b("React").createElement("ul",null,a)};a.prototype.$1=function(a){j.changeGroupAdmins(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),[b("MercuryIDs").getUserIDFromParticipantID(a)],!1)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ChatGroupMembershipMembersTab.react",["cx","fbt","ChatDetailStack.react","ChatDialogConfirmationButtons.react","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryThreadActions","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get(),k=50;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(){j.leaveGroup(this.props.threadID)}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.admins;a=a.participants;var d=h._("Supprimer"),e=h._("Nommer administrateur"),f=h._("Quitter le groupe"),g=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()),i=!!c.find(function(a){return a.id===g}),j=c.length===0;a=a.reduce(function(a,l){__p&&__p();var m=l.id,n=c.includes(l),o=l.id===g,p=n?h._("Administrateur"):null,q=[];n=i&&!n;var r=o&&j;(n||r)&&q.push({label:e,onClick:function(){this.$1(m)}.bind(this),requiresConfirmation:!0});o?q.push({label:f,onClick:this.$2,requiresConfirmation:!0}):i&&q.push({label:d,onClick:function(){this.$3(m)}.bind(this),requiresConfirmation:!0});n=b("React").createElement("li",{className:"_33zx _2pi3",key:m},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:k,profiles:[{image_src:l.image_src,name:l.name}]})),b("React").createElement(b("ChatDetailStack.react"),{bottomDetail:p,topDetail:l.name}),b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:q})));m===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())?a.unshift(n):a.push(n);return a}.bind(this),[]);return b("React").createElement("ul",null,a)};a.prototype.$3=function(a){j.removeFromGroup(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),b("MercuryIDs").getUserIDFromParticipantID(a))};a.prototype.$1=function(a){j.changeGroupAdmins(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),[b("MercuryIDs").getUserIDFromParticipantID(a)],!0)};e.exports=a}),null);
__d("ChatGroupMembershipRequestSetting.react",["cx","fbt","ChatDialogConfirmationButtons.react","MercuryThreadActions","MessengerApprovalModeTypes","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get();c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.thread,c=a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;j.setApprovalMode(c?b("MessengerApprovalModeTypes").OPEN:b("MessengerApprovalModeTypes").APPROVALS,a)}.bind(this),c}a.prototype.render=function(){var a=this.props.thread;a=a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;var c=a?h._("Approbation de l\u2019administrateur\u00a0: ACTIV\u00c9E."):h._("Approbation de l\u2019administrateur\u00a0: D\u00c9SACTIV\u00c9E.");a=a?h._("D\u00e9sactiver"):h._("Activer");return b("React").createElement("div",{className:"_32ly",key:"requestSettings"},b("React").createElement("div",{className:"_32lz"},c,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:[{label:a,onClick:this.$1,requiresConfirmation:!0}]})),b("React").createElement("div",{className:"_32l- _2pi2"},h._("Les administrateurs peuvent valider les nouvelles personnes ajout\u00e9es par des non-administrateurs ou les personnes qui sont invit\u00e9es \u00e0 rejoindre le groupe.")))};e.exports=a}),null);
__d("ChatGroupMembershipRequestTab.react",["cx","fbt","ChatDetailStack.react","ChatDialogConfirmationButtons.react","ChatGroupMembershipRequestSetting.react","CurrentUser","FacepileRounded.react","immutable","MercuryIDs","MessengerApprovalModeTypes","React","MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation","WebGraphQL"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=50;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.membershipParticipants,d=a.thread,e=a.threadID;a=d&&d.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;var f=d?d.group_approval_queue:[];a=a&&f&&f.length&&c?f.reduce(function(a,d){__p&&__p();var f=d.inviter,g=d.requester;d=c.find(function(a){return a.fbid===f.id});var i=c.find(function(a){return a.fbid===g.id});if(!i)return a;var k=[{label:h._("Approuver"),onClick:function(){this.$1(e,g.id)}.bind(this),requiresConfirmation:!0},{label:h._("Ignorer"),onClick:function(){this.$2(e,g.id)}.bind(this),requiresConfirmation:!0}];d=d?h._("Invitation de {inviter name}",[h._param("inviter name",d.name)]):null;a.push(b("React").createElement("li",{className:"_4y_j _2pi3",key:g.id},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:j,profiles:[{image_src:i.image_src,name:i.name}]})),b("React").createElement(b("ChatDetailStack.react"),{bottomDetail:d,topDetail:i.name}),b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:k}))));return a}.bind(this),[]):null;f=d?b("React").createElement(b("ChatGroupMembershipRequestSetting.react"),{key:"requestSettings",thread:d}):null;return[f,b("React").createElement("ul",{key:"requestSection"},a)]};a.prototype.$1=function(a,c){b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),user_ids:[c],response:"ACCEPT",surface:"WEB_ADMIN_MODEL_APPROVAL_CENTER"}}))};a.prototype.$2=function(a,c){b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),user_ids:[c],response:"DENY",surface:"WEB_ADMIN_MODEL_APPROVAL_CENTER"}}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ChatGroupMembershipDialog.react",["ChatGroupMembershipAdminTab.react","ChatGroupMembershipMembersTab.react","ChatGroupMembershipRequestTab.react","CurrentUser","immutable","LayerFadeOnHide","MercuryIDs","React","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={selectedTab:"chatGroupMembershipMembers"},this.$1=function(a){this.setState({selectedTab:a})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.thread,d=a.threadID,e=a.participants;a=a.membershipParticipants;var f=c&&c.admin_ids||[],g=f.length>0,h=e.filter(function(a){return f.indexOf(b("MercuryIDs").getUserIDFromParticipantID(a.id))>-1||f.indexOf(a.id)>-1}),i=!!h.find(function(a){return a.id===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())}),j=g?i?this.$2():this.$3():this.$4(),k=b("React").createElement(b("ChatGroupMembershipMembersTab.react"),{admins:h,participants:e,threadID:d});this.state.selectedTab==="chatGroupMembershipAdmins"&&g?k=b("React").createElement(b("ChatGroupMembershipAdminTab.react"),{admins:h,threadID:d}):this.state.selectedTab==="chatGroupMembershipRequests"&&i&&(k=b("React").createElement(b("ChatGroupMembershipRequestTab.react"),{membershipParticipants:a,participants:e,thread:c,threadID:d}));return b("React").createElement(b("XUIDialog.react"),{shown:this.props.dialogShown,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onHide:this.props.onHide,isStrictlyControlled:!0,label:"Membership",width:445},j,b("React").createElement(b("XUIDialogBody.react"),null,k))};a.prototype.$3=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipAdmins"},b("React").createElement("span",{id:"chatGroupMembershipAdmins"},"Admins")))};a.prototype.$4=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")))};a.prototype.$2=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipAdmins"},b("React").createElement("span",{id:"chatGroupMembershipAdmins"},"Admins")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipRequests"},b("React").createElement("span",{id:"chatGroupMembershipRequests"},"Membership Requests")))};e.exports=a}),null);
__d("MNCommerceReviewDialogTextArea.react",["cx","AbstractTextArea.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("joinClasses")(this.props.className,"_3g_j");return b("React").createElement(b("AbstractTextArea.react"),babelHelpers["extends"]({},this.props,{className:a}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MNCommerceReviewDialog.react",["fbt","cx","MessengerEnvironment","MNCommerceButton.react","MNCommerceDetailsDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","React","StarsInput.react","MNCommerceReviewDialogTextArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,b){i.constructor.call(this,a,b),j.call(this),this.state=this.$1()}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$1(a))};a.prototype.render=function(){var a=this.props.merchantName||"",c=this.state.rating>0,d=this.props.review||"",e=this.state.review||"";e=this.state.rating!==this.props.rating||e.length!==d.length||e!==d;d=g._("\u00c9crire un avis pour {label for merchant name}",[g._param("label for merchant name",a)]);a=g._("Annuler");var f=g._("Envoyer"),h=g._("Les options d\u2019examen n\u2019ont pas pu \u00eatre affich\u00e9es.");return b("React").createElement(b("MNCommerceDetailsDialog.react"),babelHelpers["extends"]({errorMessage:h,onToggle:this.props.onToggle,shown:this.props.shown},this.props),b("React").createElement(b("MNCommerceDialogTitle.react"),{showCloseButton:!0},d),b("React").createElement(b("MNCommerceDialogBody.react"),null,this.$2()),b("React").createElement(b("MNCommerceDialogFooter.react"),null,b("React").createElement(b("MNCommerceButton.react"),{label:a,onClick:this.props.onCancelButtonClick,use:"default"}),b("React").createElement(b("MNCommerceButton.react"),{label:f,onClick:this.$3,disabled:!c||!e,use:"confirm"})))};a.prototype.$2=function(){var a=b("MessengerEnvironment").messengerui,c=this.state.rating||0,d=this.state.review||"",e=(a?"_159y":"")+(a?"":" _159z");a=(a?"_15a3":"")+" _15a4";return b("React").createElement("div",null,b("React").createElement("div",{className:a}," Rate your experience"),b("React").createElement(b("StarsInput.react"),{allowMultipleSubmissions:!0,large:!0,onClick:this.onStarsChangeClick,count:c}),b("React").createElement(b("MNCommerceReviewDialogTextArea.react"),{className:e,defaultValue:d,onChange:this.onReviewChange,placeholder:"Write a review..."}))};a.propTypes={error:c.object,loading:c.bool.isRequired,rating:c.number,review:c.string,merchantName:c.string,onCancelButtonClick:c.func,onConfirmButtonClick:c.func.isRequired,pageId:c.string};var j=function(){__p&&__p();this.onStarsChangeClick=function(a){var b=this.state.review;this.onTypeChange(a,b)}.bind(this),this.onReviewChange=function(a){var b=this.state.rating;this.onTypeChange(b,a.target.value)}.bind(this),this.$1=function(a){a=a||this.props;var b=a.rating;a=a.review;return{rating:b,review:a}}.bind(this),this.onTypeChange=function(a,b){this.setState({rating:a,review:b})}.bind(this),this.$3=function(a){a=this.props;a.onToggle(!1);if(!a.onConfirmButtonClick)return;var b=a.pageId;a.onConfirmButtonClick(b,this.state.rating,this.state.review)}.bind(this)};e.exports=a}),null);
__d("MessengerPlatformBotReviewActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a={stateLoaded:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOADED,state:a})},stateLoadError:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOAD_ERROR,pageID:a})},stateReload:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").BOT_REVIEW_STATE.RELOAD,pageID:a})}};e.exports=a}),null);
__d("XMessengerPlatformBotReviewReadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/bot_review/read/",{page_id:{type:"FBID",required:!0}})}),null);
__d("MessengerPlatformBotReviewReadDataManager",["AsyncRequest","MessengerPlatformBotReviewActions","XMessengerPlatformBotReviewReadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.fetchReviewState=function(a){a=b("XMessengerPlatformBotReviewReadController").getURIBuilder().setFBID("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.$1).setErrorHandler(this.$2).send()};a.prototype.$1=function(a){var c=a.getRequest().uri.getQueryData();c=c.page_id;a&&(a.payload.pageID=c);b("MessengerPlatformBotReviewActions").stateLoaded(a.payload)};a.prototype.$2=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MessengerPlatformBotReviewActions").stateLoadError(a)};function a(){}e.exports=new a()}),null);
__d("MessengerPlatformBotReviewStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MessengerPlatformBotReviewReadDataManager","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("MessengerDispatcher")),this.$MessengerPlatformBotReviewStore1=new(b("Cache"))()}a.prototype.__onDispatch=function(a){__p&&__p();var c=a.type,d=a.pageID||a.state&&a.state.pageID;switch(c){case b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOADED:c=a.state;this.$MessengerPlatformBotReviewStore1.set(d,b("LoadObject").empty().setValue(c),null,b("MNCommerceCacheTimeoutLimits").SUCCESS_TIMEOUT);this.__emitChange();break;case b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOAD_ERROR:this.$MessengerPlatformBotReviewStore1.set(d,b("LoadObject").empty().setError(new Error("Unable to load permissions for: "+d)),null,b("MNCommerceCacheTimeoutLimits").ERROR_TIMEOUT);this.__emitChange();break;case b("MNCommerceActionTypes").BOT_REVIEW_STATE.RELOAD:d&&(this.$MessengerPlatformBotReviewStore1.set(d,b("LoadObject").loading()),b("MessengerPlatformBotReviewReadDataManager").fetchReviewState(d));this.__emitChange();break}};a.prototype.getReviewState=function(a){a&&!this.$MessengerPlatformBotReviewStore1.has(a)&&(this.$MessengerPlatformBotReviewStore1.set(a,b("LoadObject").loading().setValue({pageID:a})),b("MessengerPlatformBotReviewReadDataManager").fetchReviewState(a));return this.$MessengerPlatformBotReviewStore1.get(a)||b("LoadObject").empty()};a.__moduleID=e.id;e.exports=new a()}),null);
__d("MNCommerceReviewDialogContainer.react",["MessengerPlatformBotReviewStore","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceReviewDialog.react","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").createClass({displayName:"MNCommerceReviewDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MessengerPlatformBotReviewStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getState(),c=null;a&&(c=a.pageID);var d=b("MessengerPlatformBotReviewStore").getReviewState(c);return{shown:!!a,loading:d.isLoading(),onConfirmButtonClick:a&&a.onConfirmButtonClick,pageID:c,reviewState:d.getValue(),error:d.getError()}}},render:function(){var a=this.state.reviewState;return b("React").createElement(b("MNCommerceReviewDialog.react"),{error:this.state.error,loading:this.state.loading,shown:this.state.shown,rating:a.rating,review:a.review,merchantName:a&&a.name,onCancelButtonClick:this._hideDialog,onConfirmButtonClick:this.state.onConfirmButtonClick,onToggle:this._onToggle,pageId:this.state.pageID})},_onToggle:function(a){a||this._hideDialog()},_hideDialog:function(){b("MNCommerceDialogStateActions").hideDialog()}});e.exports=a}),null);
__d("MercuryThreadMuter",["AsyncDialog","AsyncRequest","DOM","MercuryThreadInfo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={showMuteChangeDialog:function(a,c,d){b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/mercury/mute_thread_dialog.php").setRelativeTo(c),function(c){c.subscribe("confirm",function(){this.hide();var c=void 0;b("DOM").scry(this.getRoot(),'input[type="radio"]').forEach(function(a){a.checked&&(c=a.value)});c=g.convertRawMuteSetting(c);d(a,c)}.bind(c))})},convertRawMuteSetting:function(a){switch(a){case"always":return-1;case"30minutes":return 1800;case"1hour":return 3600;case"8hours":return 8*3600;case"24hours":return 24*3600;default:return 0}}};e.exports=g}),null);
__d("MNCommerceBotsReviewResponseDialog.react",["fbt","MessengerEnvironment","MNCommerceAttachmentConstants","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("MessengerEnvironment").messengerui?b("MNCommerceAttachmentConstants").MDOTCOMDIALOG.WIDTH:b("MNCommerceAttachmentConstants").DIALOG.WIDTH,c=this.props.success?g._("Merci d\u2019avoir donn\u00e9 votre avis\u00a0!"):g._("Une erreur est survenue"),d=this.props.success?g._("Votre avis a bien \u00e9t\u00e9 envoy\u00e9."):g._("Veuillez r\u00e9essayer");return b("React").createElement(b("XUIDialog.react"),babelHelpers["extends"]({autohide:2e3,width:a},this.props),b("React").createElement(b("XUIDialogTitle.react"),null,c),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",null,d)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MNCommerceBotsReviewConfirmationDialogContainer.react",["MNCommerceBotsReviewResponseDialog.react","MNCommerceDialogStateActions","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a||this.$2()}.bind(this),this.$2=function(){b("MNCommerceDialogStateActions").hideDialog()},c}a.prototype.render=function(){return b("React").createElement(b("MNCommerceBotsReviewResponseDialog.react"),{success:!0,shown:!0,onToggle:this.$1})};e.exports=a}),null);
__d("MNCommerceBotsReviewErrorDialogContainer.react",["MNCommerceBotsReviewResponseDialog.react","MNCommerceDialogStateActions","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a||this.$2()}.bind(this),this.$2=function(){b("MNCommerceDialogStateActions").hideDialog()},c}a.prototype.render=function(){return b("React").createElement(b("MNCommerceBotsReviewResponseDialog.react"),{success:!1,shown:!0,onToggle:this.$1})};e.exports=a}),null);
__d("XMessengerPlatformBotReviewWriteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/bot_review/write/",{page_id:{type:"FBID",required:!0},rating:{type:"Int",required:!0},review:{type:"String"}})}),null);
__d("MessengerPlatformBotReviewWriteDataManager",["AsyncRequest","MessengerPlatformBotReviewActions","XMessengerPlatformBotReviewWriteController","MNCommerceBotsReviewErrorDialogContainer.react","MNCommerceBotsReviewConfirmationDialogContainer.react","MNCommerceDialogStateActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.review=function(a,c,d){a=b("XMessengerPlatformBotReviewWriteController").getURIBuilder().setFBID("page_id",a).setInt("rating",c).setString("review",d).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.$1).setErrorHandler(this.$2).send()};a.prototype.$1=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MessengerPlatformBotReviewActions").stateReload(a);b("MNCommerceDialogStateActions").showDialog(b("MNCommerceBotsReviewConfirmationDialogContainer.react"),{})};a.prototype.$2=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MessengerPlatformBotReviewActions").stateLoadError(a);b("MNCommerceDialogStateActions").showDialog(b("MNCommerceBotsReviewErrorDialogContainer.react"),{})};function a(){}e.exports=new a()}),null);
__d("MessengerPlatformSubscriptionActionWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2017384271613026"};c.getQueryID=function(){"use strict";return"710976709095848"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("XMessagingGroupOptionsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/dialog/group_options/",{thread_fbid:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("ChatTabMenu.react",["cx","fbt","AsyncDialog","AsyncRequest","AutoFocusableLink.react","BootloadedComponent.react","ChangeChatTabColorDialog","ChatConfig","ChatGroupMembershipDialog.react","ChatPrivacyActionController","ChatStartPlanDialogHelper","CurrentUser","Dialog","EditChatTabNicknamesDialog","EventPlanUtils","EventRemindersGating","FantaMessageActions","FantaTabActions","GroupsActionURIConstants","ImmutableObject","JSResource","MenuSeparator.react","MercuryIDs","MercuryLogMessageType","MercuryParticipants","MercuryServerPayloadPreprocessor","MercurySourceType","MercuryThreadMuter","MercuryViewer","MessagingTag","MessengerAdminGroupUtils","MessengerCommerceTypedLogger","MessengerDialogs.bs","MessengerGroupsSyncStatus","MessengerMessageRequestsTypedLogger","MessengerPlatformBotReviewWriteDataManager","MessengerPlatformSubscriptionActionWebGraphQLMutation","MessengerPlatformUserControlConfig","MNCommerceDialogStateActions","MNCommerceLoggerEvents","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialogContainer.react","MNCommerceReviewDialogContainer.react","NFXChatHeadGK","PopoverMenu.react","QE2Logger","React","ReactComponentWithPureRenderMixin","ReactDOM","ReactMenu","ShimButton.react","Toggler","TrackingNodes","URI","WebGraphQL","WebMessengerConfirmBlockDialog","WebMessengerDeleteSyncedGroupDialog","WebMessengerDeleteThreadDialog","WebMessengerThreadPermalinks","WorkFileUploadsGating","WorkModeConfig","XEventCreateDialogController","XMessagingGroupOptionsDialogController","XNFXStartForMessageThreadController","promiseDone","MercuryMessageObject","MercuryThreadActions","MercuryThreadIDMap","MercuryThreads","MercuryMessageActions","getPageIDFromThreadID","goURI","gkx","idx","isEmpty"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryMessageObject").get(),j=b("MercuryThreadActions").get(),k=b("MercuryThreadIDMap").get(),l=b("MercuryThreads").get(),m=b("MercuryMessageActions").get(),n=b("ReactMenu").Item;a=b("React").PropTypes;var o=b("gkx")("AT6mUVDD74IWOTG0apJZF1LePh7SrhTQTrb19q8AoflSv5-DHG9ZPR3YfgtHmrA5yQIw4oTG7io_Cp0zzeQ4tvCvUxrq6ExcZIsaJQRg7A8JWA"),p=b("MessengerPlatformUserControlConfig").v2_enabled,q="messenger_platform_user_controls_v2_www";c=b("React").createClass({displayName:"ChatTabMenu",_privacyActionController:undefined,linkRef:undefined,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{autoFocus:a.bool,composer:a.object,hasMessageBlocked:a.bool,isEmptyChat:a.bool,isEmptyConversation:a.bool,isGroupChat:a.bool,isMultiCompany:a.bool,isPageChat:a.bool,membershipParticipants:a.object,nameConversationFunc:a.func,onMount:a.func,otherUserID:a.string,participants:a.arrayOf(a.object),showAddFriend:a.func,thread:a.object,threadID:a.string.isRequired,viewer:a.string.isRequired},getInitialState:function(){return{membersDialogShown:!1,muted:!1,privacyText:"",showReportPageDialog:!1,url:null}},getDefaultProps:function(){return{show:!0,isMuted:!1}},componentDidMount:function(){b("WebMessengerThreadPermalinks").getThreadURI(this.props.threadID,function(a){this.isMounted()&&!b("MercuryIDs").isLocalThread(this.props.threadID)&&this.setState({url:a})}.bind(this)),this.props.isGroupChat||(this._privacyActionController=new(b("ChatPrivacyActionController"))(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),function(a){return this._updatePrivacyLink(a)}.bind(this))),this.props.onMount&&this.props.onMount(this),o&&this.getPageUserIfExists()&&(b("QE2Logger").logExposureForUser(q),p&&new(b("MessengerCommerceTypedLogger"))().setEvent(b("MNCommerceLoggerEvents").USER_CONTROL_V2_IMPRESSION).setUserFbid(b("CurrentUser").getID()).setPageID(this.props.otherUserID).setDebugData("www_chat_tabs").log())},componentWillUnmount:function(){this._privacyActionController&&this._privacyActionController.destroy()},_unmuteThread:function(){j.unmute(this.props.threadID),b("Toggler").hide(),p&&this.getPageUserIfExists()&&new(b("MessengerCommerceTypedLogger"))().setEvent(b("MNCommerceLoggerEvents").USER_CONTROL_V2_UNMUTED).setUserFbid(b("CurrentUser").getID()).setPageID(this.props.otherUserID).setDebugData("www_chat_tabs").log()},_togglePrivacyFunc:function(){this._privacyActionController&&this._privacyActionController.togglePrivacy()},_renderFileUploader:function(){return b("React").createElement(n,{key:"fileUploader",className:"_37_x"},b("React").createElement(b("ShimButton.react"),{className:"_4q61 itemAnchor",inline:!0,onClick:function(){this.props.composer&&b("FantaMessageActions").openUploadFilePicker(this.props.threadID,this.props.composer)}.bind(this)},h._("Ajouter des fichiers...")))},_fullConversationRedirect:function(){b("goURI")(this.state.url)},_renderOpenFullConversation:function(){if(this.state.url){var a=b("CurrentUser").isWorkUser()?h._("Ouvrir dans Workplace Chat"):h._("Ouvrir dans Messenger");return b("React").createElement(n,{key:"openFullMessenger",href:this.state.url,onclick:this._fullConversationRedirect},a)}return null},_renderAddFriend:function(){if(!this.props.showAddFriend||b("getPageIDFromThreadID")(this.props.threadID)||this.props.isMultiCompany&&!this.props.isGroupChat)return null;var a=l.getThreadMetaNow(this.props.threadID),c=b("MessengerAdminGroupUtils").shouldInvite(a);a=b("MessengerAdminGroupUtils").isGroupChat(a);var d=void 0;b("WorkModeConfig").is_work_user?d=h._("Ajouter des coll\u00e8gues pour discuter..."):c?d=h._("Inviter des amis dans la discussion..."):a?d=h._("Add Group Members to Chat..."):d=h._("Ajouter des amis \u00e0 la discussion...");return b("React").createElement(n,{key:"addFriend",onclick:this.props.showAddFriend},d)},_renderTogglePrivacy:function(){return!this.props.isGroupChat&&this.state.privacyText?b("React").createElement(n,{key:"togglePrivacy",onclick:this._togglePrivacyFunc},this.state.privacyText):null},_canEditNickname:function(){if(b("getPageIDFromThreadID")(this.props.threadID))return!1;var a=l.getThreadMetaNow(this.props.threadID),c=b("CurrentUser").getID();a=a&&a.participants&&c&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c);return!!a},_renderEditNickname:function(){return!this._canEditNickname()?null:b("React").createElement(n,{key:"editNickname",onclick:this._showEditNicknameDialog},h._("Modifier les surnoms"))},_renderChangeColor:function(){if(b("getPageIDFromThreadID")(this.props.threadID))return null;var a=l.getThreadMetaNow(this.props.threadID),c=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());a=a&&c&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c);return a&&b("ChatConfig").get("chat_tab_custom_color")?b("React").createElement(n,{key:"changeColor",onclick:this._showCustomColorDialog},h._("Changer la couleur...")):null},_onUpdateMute:function(a,c){j.updateMuteSetting(a,c),p&&this.getPageUserIfExists()&&new(b("MessengerCommerceTypedLogger"))().setEvent(b("MNCommerceLoggerEvents").USER_CONTROL_V2_MUTED).setUserFbid(b("CurrentUser").getID()).setPageID(this.props.otherUserID).setDebugData("www_chat_tabs").log()},_renderMuteConversation:function(){if(!this.props.isMuted){var a=b("MercuryThreadMuter").showMuteChangeDialog.bind(null,this.props.threadID,this.linkRef,this._onUpdateMute);return b("React").createElement(n,{key:"mute",onclick:a},h._("Mettre la conversation en sourdine..."))}else return b("React").createElement(n,{key:"unmute",onclick:this._unmuteThread},h._("Reprendre la conversation"))},_renderDeleteConversation:function(){return b("React").createElement(n,{key:"delete",onclick:this._deleteConversation},h._("Supprimer la conversation..."))},_renderReportSpam:function(){var a=b("getPageIDFromThreadID")(this.props.threadID),c=h._("Signaler...");if(a)return b("React").createElement(n,{key:"reportSpam",onclick:this._reportPageClicked},b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MNCommerceReportConversationDialog.react").__setRef("ChatTabMenu.react"),pageID:a,showDialog:this.state.showReportPageDialog,onToggle:this._handleReportPageToggle}),c);return!this.props.isGroupChat&&!b("CurrentUser").isWorkUser()?b("React").createElement(n,{key:"reportSpam",onclick:this._reportSpamClicked},c):null},_manageMessagesItem:function(){if(p)return null;return this.props.isBusinessEnabled?b("React").createElement(n,{key:"manageMessages",onclick:this._messageManageClicked},h._("Manage Messages...")):null},_manageReviewItem:function(){return!this.props.isBusinessEnabled?null:b("React").createElement(n,{key:"manageReivew",onclick:this._reviewClicked},h._("Laisser un commentaire"))},getPageUserIfExists:function(){var a=this.props,c=a.isPageChat,d=a.otherUserID;a=a.participants;return!c||!d||!a||b("isEmpty")(a)?null:a.find(function(a){return a.fbid===d})},_onSubscriptionActionClick:function(){__p&&__p();var a=this.props.otherUserID;if(!a)return;var c=this.getPageUserIfExists();if(!c)return;c=c.is_subscribed_to_page_updates;c=c?"UNSUBSCRIBE":"SUBSCRIBE";b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerPlatformSubscriptionActionWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:this.props.viewer,page_id:a,action_type:c}})),function(a){a=(a=a)!=null?(a=a.messenger_platform_subscription_action)!=null?(a=a.page)!=null?a.is_viewer_subscribed_to_message_updates:a:a:a;if(a===null||a===undefined)return;this._updateSubscribed(a)}.bind(this))},_updateSubscribed:function(a){__p&&__p();var c=this.props,d=c.isPageChat;c=c.otherUserID;if(!d||!c)return;d=this.getPageUserIfExists();if(!d)return;d=b("MercuryIDs").getParticipantIDFromUserID(c);c=b("MercuryParticipants").getOrFetch(d);if(c){c=b("ImmutableObject").set(c,{is_subscribed_to_page_updates:a});a&&(c=b("ImmutableObject").set(c,{is_messenger_blocked:!1}));d={participants:[c]};b("MercuryServerPayloadPreprocessor").getForFBID(this.props.viewer).handleUpdate(d)}},_onBlockPageActionClick:function(){if(!this.props.threadID)return;var a=this.getPageUserIfExists();if(!a)return;a=a.is_messenger_blocked;a?(j.unblockOnMessengerDotCom(this.props.threadID),this._updatePageBlocked(!1)):(j.blockOnMessengerDotCom(this.props.threadID),this._updatePageBlocked(!0))},_updatePageBlocked:function(a){__p&&__p();var c=this.props,d=c.isPageChat;c=c.otherUserID;if(!d||!c)return;d=this.getPageUserIfExists();if(!d)return;d=b("MercuryIDs").getParticipantIDFromUserID(c);c=b("MercuryParticipants").getOrFetch(d);if(c){c=b("ImmutableObject").set(c,{is_messenger_blocked:a});d={participants:[c]};b("MercuryServerPayloadPreprocessor").getForFBID(this.props.viewer).handleUpdate(d)}var event=a?b("MNCommerceLoggerEvents").USER_CONTROL_V2_BLOCKED:b("MNCommerceLoggerEvents").USER_CONTROL_V2_UNBLOCKED;new(b("MessengerCommerceTypedLogger"))().setEvent(event).setUserFbid(b("CurrentUser").getID()).setPageID(this.props.otherUserID).setDebugData("www_chat_tabs").log()},_blockPageMessagesItem:function(){__p&&__p();if(!p)return null;if(b("CurrentUser").isWorkUser())return null;var a=this.getPageUserIfExists();if(!a)return null;a=a.is_messenger_blocked;var c=h._("D\u00e9sactiver les messages"),d=h._("Activer les messages");a=a?d:c;return b("React").createElement(n,{key:"blockPage",onClick:this._onBlockPageActionClick},a)},_blockMessagesItem:function(){if(this.props.isBusinessEnabled||this.props.otherUserID&&this.props.otherUserID===b("CurrentUser").getID())return null;if(!this.props.isGroupChat&&!this.props.hasMessageBlocked&&!this.props.isEmptyConversation&&!b("CurrentUser").isWorkUser())return b("React").createElement(n,{key:"blockMessages",onclick:this._messageBlockedClicked},h._("Bloquer les messages..."));return!this.props.isGroupChat&&this.props.hasMessageBlocked?b("React").createElement(n,{key:"unblockMessage",onclick:this._messageUnblockedClicked},h._("D\u00e9bloquer les messages...")):null},_ignoreMessagesItem:function(){if(this.props.isBusinessEnabled||this.props.otherUserID&&this.props.otherUserID===b("CurrentUser").getID()||this.props.hasMessageBlocked||b("CurrentUser").isWorkUser())return null;return this.props.isGroupChat&&!b("gkx")("AT6sQjs7GRVhEipNW3TkmIJi_BHZa2KKyD-Mi9QicLxYmeTJYm7WWpq-_Rh-wyDoXW1BNvzANnO7tf1hMqNgPGMF")?null:b("React").createElement(n,{key:"ignore",onclick:this._messageIgnoreClicked},h._("Ignorer les messages..."))},_renderCreateGroup:function(){var a=!1;if(b("gkx")("AT76uJPrd7aouwB_QroadLDPQjoYqjTnZ6JlShuyxmrPn6QOi_fPin1c8OftLiUFB89lVhL5JEgoqRyScwLRyYCk")){var c=l.getThreadMetaNow(this.props.threadID);a=c&&c.groups_sync_status===b("MessengerGroupsSyncStatus").OPT_IN}return!a&&this.props.isGroupChat?b("React").createElement(n,{key:"createGroup",onclick:this._createGroupClicked},h._("Cr\u00e9er un groupe")):null},_renderCreateEvent:function(){return this.props.isGroupChat?b("React").createElement(n,{key:"createEvent",onclick:this._createEventClicked},h._("Cr\u00e9er un \u00e9v\u00e8nement")):null},_renderCreatePlan:function(){if(b("EventPlanUtils").isAllowedtoStartPlanWithRecipients(this.props.threadID)){var a=b("EventRemindersGating").shouldUseNewName?h._("Cr\u00e9er un programme"):h._("Cr\u00e9er un rappel");return b("React").createElement(n,{key:"eventPlan",onclick:this._onEventPlanButtonClicked},a)}return null},_renderConversationName:function(){var a=l.getThreadMetaNow(this.props.threadID),c=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());a=a&&c&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c)&&this.props.isGroupChat&&!l.isEmptyLocalThread(this.props.threadID);return a?b("React").createElement(n,{key:"conversationName",onclick:this.props.nameConversationFunc},h._("Modifier le nom de la conversation")):null},_renderLeaveConversation:function(){return this.props.isGroupChat?b("React").createElement(n,{key:"leave",onclick:this._unsubscribeLinkClicked},h._("Quitter la conversation...")):null},_openMembersDialog:function(){k.getServerIDFromClientID(this.props.threadID,function(a){b("MessengerDialogs.bs").showDialog(function(){var c=a&&b("MercuryIDs").getThreadIDFromThreadFBID(a),d=this.props.participants;return c&&d?b("React").createElement(b("ChatGroupMembershipDialog.react"),{dialogShown:!0,membershipParticipants:this.props.membershipParticipants,onHide:this._onHideMembersDialog,participants:d,thread:this.props.thread,threadID:c}):null}.bind(this))}.bind(this))},_onHideMembersDialog:function(){b("MessengerDialogs.bs").removeAllDialogs()},_renderPeopleList:function(){if(this.props.isGroupChat&&!l.isEmptyLocalThread(this.props.threadID)){var a=l.getThreadMetaNow(this.props.threadID);if(b("gkx")("AT4Su_C_ES-4CrhD_D1dBW_m5KjlFcSb7961M1pyMtCzs7K6KHN0P9tI32lFZYJ_eyKAK3Q0Kgi-dtAf3S-EKL71")&&b("MessengerAdminGroupUtils").isAdminRequired(a)){if(this.props.participants)return b("React").createElement(n,{key:"members",onclick:this._openMembersDialog},h._("Membres..."))}else return b("React").createElement(n,{key:"members",onclick:this._showParticipants},h._("Modifier les participants..."))}return null},_renderGroupOptions:function(){var a=l.getThreadMetaNow(this.props.threadID),c=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());return a&&c&&this.props.isGroupChat&&b("MessengerAdminGroupUtils").canSeeJoinableGroupOptions(a)?b("React").createElement(n,{key:"groupOptions",onclick:this._showGroupOptions},h._("View Group Options")):null},_renderToggleSecretMode:function(){return this.props.hasSecretModeOn?b("React").createElement(n,{key:"secretMode",onclick:this._secretModeTurnOff},h._("D\u00e9sactivation des messages \u00e9ph\u00e9m\u00e8res")):null},_renderGroupsSyncDeleteOption:function(){if(!b("gkx")("AT76uJPrd7aouwB_QroadLDPQjoYqjTnZ6JlShuyxmrPn6QOi_fPin1c8OftLiUFB89lVhL5JEgoqRyScwLRyYCk"))return null;var a=l.getThreadMetaNow(this.props.threadID);if(!a)return null;return a.groups_sync_status!=b("MessengerGroupsSyncStatus").OPT_IN?null:b("React").createElement(n,{onclick:this._groupsSyncDelete,key:"groupsSyncDelete"},h._("Supprimer le groupe Facebook"))},_groupsSyncDelete:function(){b("WebMessengerDeleteSyncedGroupDialog").show(function(){return j.deleteSyncedGroup(this.props.threadID)}.bind(this))},_renderMenuItems:function(){__p&&__p();var a=b("gkx")("AT6MJjghtf-uvoIi5M722VONKqFRBHBSnMD8qt980ioxXTNy2DTVRFp69gZkdlRaIJSK5YtzN81MxfTYpiEI66xk")&&!b("CurrentUser").isWorkUser(),c=this._renderReportSpam(),d=this._blockMessagesItem(),e=this._ignoreMessagesItem(),f=this._manageMessagesItem(),g=this._manageReviewItem(),h=this._renderCreateGroup(),i=this._renderCreateEvent(),j=this._renderGroupOptions(),k=this._blockPageMessagesItem(),l=this._renderToggleSecretMode(),m=this._renderTogglePrivacy(),n=this._renderConversationName(),o=this._renderPeopleList(),p=this._renderEditNickname(),q=this._renderChangeColor(),r=this._renderMuteConversation(),s=this._renderDeleteConversation(),t=this._renderLeaveConversation(),u=this._renderCreatePlan(),v=!a&&b("WorkFileUploadsGating").canUploadFiles?this._renderFileUploader():null,w=a?null:this._renderAddFriend();a=a?null:this._renderOpenFullConversation();var x=this._renderGroupsSyncDeleteOption();a=[a,n,o,j,w,p,q].filter(function(a){return!!a});n=[r,l,s,e,k,d,t,m,f,g,c,x].filter(function(a){return!!a});o=[v,u,h,i].filter(function(a){return!!a});j=[a,n,o].filter(function(a){return a.length>0});w=j.reduce(function(a,c,d){a.length>0&&a.push(b("React").createElement(b("MenuSeparator.react"),{key:"separator"+d}));return a.concat(c)},[]);return b("React").createElement(b("ReactMenu"),{className:"chatReact"+(this.props.show?"":" hidden_elem")},w)},render:function(){var a=h._("Options"),c=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.DROPDOWN_BUTTON);return b("React").createElement(b("PopoverMenu.react"),{menu:this._renderMenuItems(),ref:"menu"},b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,"data-ft":c,"data-hover":"tooltip","aria-label":a,"data-tooltip-alignh":"center","data-tooltip-content":a,className:"button"+(this.props.isEmptyChat?" hidden_elem":"")+" _3olv _1ll-",ref:function(a){return this.linkRef=b("ReactDOM").findDOMNode(a)}.bind(this),role:"button"}))},_updatePrivacyLink:function(a){__p&&__p();var c;void 0;if(a==b("ChatPrivacyActionController").OFFLINE){c=h._("Passer en ligne");this.setState({privacyText:c});return}if(this.props.isGroupChat||this.props.otherUserID===undefined)return;var d="fbid:".concat(this.props.otherUserID);b("MercuryParticipants").get(d,function(d){!d.is_friend?c=null:a==b("ChatPrivacyActionController").BLOCKED?c=h._("Activer la discussion instantan\u00e9e pour {name}",[h._param("name",d.short_name)]):b("gkx")("AT6XJNxwV6KaJzyxn6EDe3Tm_qRFKRqe2qkOS_4ZLz8D2JxuLFBXYKOl65GgbN3cStXtdJ_4PUESVZvXZJiurCDl")?c="":c=h._("D\u00e9sactiver la discussion instantan\u00e9e pour {name}",[h._param("name",d.short_name)]),this.setState({privacyText:c})}.bind(this))},_showEditNicknameDialog:function(){var a=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());a&&b("EditChatTabNicknamesDialog").show(this.props.threadID,a,this.linkRef)},_showCustomColorDialog:function(){b("ChangeChatTabColorDialog").show(this.props.threadID,this.linkRef)},_showParticipants:function(){k.getServerIDFromClientID(this.props.threadID,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(b("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:a})))})},_unsubscribeLinkClicked:function(){var a=[];a.push({name:"unsubscribe",label:h._("Quitter la conversation"),handler:function(){return this._unsubscribeToThread()}.bind(this)});a.push(b("Dialog").CANCEL);var c=void 0;l.getThreadMeta(this.props.threadID,function(a){a.admin_ids&&a.admin_ids.indexOf(b("MercuryViewer").getID())!==-1?c=h._("Si vous quittez ce groupe, vous n\u2019en serez plus propri\u00e9taire, et d\u2019autres membres pourront le g\u00e9rer. Vous ne pourrez plus envoyer et recevoir des messages."):c=h._("Vous ne recevrez plus de messages de cette conversation et les personnes verront que vous l\u2019avez quitt\u00e9e.")});new(b("Dialog"))().setTitle(h._("Quitter la conversation\u00a0?")).setBody(c).setButtons(a).show()},_unsubscribeToThread:function(){if(!l.isEmptyLocalThread(this.props.threadID)){var a=i.constructLogMessageObject(b("MercurySourceType").CHAT_WEB,this.props.threadID,b("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[b("MercuryViewer").getID()]});m.send(a)}b("FantaTabActions").closeTab(this.props.threadID);return!0},_deleteConversation:function(){b("WebMessengerDeleteThreadDialog").show(this.props.threadID,function(){return b("FantaTabActions").deleteTab(this.props.threadID)}.bind(this),null,this.linkRef)},_reportSpamClicked:function(){var a=new(b("URI"))("/ajax/chat/report.php").addQueryData({id:this.props.otherUserID}).addQueryData({src:"top_report_link"});b("NFXChatHeadGK").result&&(a=b("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",this.props.otherUserID).setEnum("location","www_chat_head").getURI());b("AsyncDialog").send(new(b("AsyncRequest"))(a))},_reportPageClicked:function(){this.setState({showReportPageDialog:!0})},_handleReportPageToggle:function(){this.setState({showReportPageDialog:!1})},_messageBlockedClicked:function(){j.blockMessages(this.props.threadID,this._handleAfterBlock)},_handleAfterBlock:function(){b("WebMessengerConfirmBlockDialog").show();var a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,b("CurrentUser").getID());j.changeFolder(this.props.threadID,b("MessagingTag").OTHER);b("FantaTabActions").closeTab(this.props.threadID);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(b("MessagingTag").INBOX).setThreadKey(a).setEntryPoint(null).log()},_messageManageClicked:function(){var a=function(a,c){return b("MNCommercePromotionBlockDataManager").block(a,c)},c=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);b("MNCommerceDialogStateActions").showDialog(b("MNCommercePromotionManageBlockDialogContainer.react"),{pageID:c,onConfirmButtonClick:a})},_messageIgnoreClicked:function(){j.ignoreMessages(this.props.isGroupChat?b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID):b("MercuryIDs").getUserIDFromThreadID(this.props.threadID))},_reviewClicked:function(){var a=function(a,c,d){if(c===0)return;b("MessengerPlatformBotReviewWriteDataManager").review(a,c,d.trim())},c=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);b("MNCommerceDialogStateActions").showDialog(b("MNCommerceReviewDialogContainer.react"),{pageID:c,onConfirmButtonClick:a})},_messageUnblockedClicked:function(){j.unblockMessages(this.props.threadID)},_secretModeTurnOff:function(){j.turnOffSecretMode(this.props.threadID)},_secretModeTurnOn:function(){j.turnOnSecretMode(this.props.threadID)},_showGroupOptions:function(){l.getThreadMeta(this.props.threadID,function(a){if(!a.is_canonical){a=b("XMessagingGroupOptionsDialogController").getURIBuilder().setString("thread_fbid",a.thread_fbid).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}})},_createGroupClicked:function(){l.getThreadMeta(this.props.threadID,function(a){if(!a.is_canonical){var c=new(b("URI"))(b("GroupsActionURIConstants").CREATE_GROUP_URI).addQueryData({ref:"web_messenger_dock",parent_id:"0"}),d=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(function(a){return a});c.addQueryData({members:d});a.name&&c.addQueryData({name:a.name});b("AsyncDialog").send(new(b("AsyncRequest"))(c))}})},_createEventClicked:function(){l.getThreadMeta(this.props.threadID,function(a){if(!a.is_canonical){a=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(function(a){return a});a=b("XEventCreateDialogController").getURIBuilder().setString("acontext",JSON.stringify({})).setIntVector("invite_ids",a).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}})},open:function(){this.refs.menu.showPopover()},_onEventPlanButtonClicked:function(){b("ChatStartPlanDialogHelper").showDialog(this.props.threadID)}});e.exports=c}),null);
__d("MessengerUserControlsButtonReact.bs",["ix","fbt","LinkReact.bs","ImageReact.bs","MercuryIDs","ReasonReact.bs","AsyncRequest","MessengerDialogs.bs","MessengerMenuReact.bs","MercuryParticipants","MercuryThreadActions","MessengerPopoverMenuReact.bs","MessengerCommerceTypedLogger","MercuryServerPayloadPreprocessor","MessengerMuteDialogBootloaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Mettre la conversation en sourdine"),j=h._("Reprendre la conversation"),k=h._("D\u00e9sactiver les messages"),l=h._("Activer les messages"),m=g("464335"),n=g("464334"),o=b("ReasonReact.bs").statelessComponent("MessengerUserControlsButton");function a(a,c,d){new(b("AsyncRequest"))(a.getURI(c)).setMethod("POST").setData(c).setHandler(d).send();return 0}function c(a,c,d,e,f,g,h){__p&&__p();var p=function(a){var c=b("MercuryIDs").getParticipantIDFromUserID(e);c=b("MercuryParticipants").getOrFetch(c);if(c==null)return 0;else{c=Object.assign({},c);b("MercuryServerPayloadPreprocessor").getForFBID(g).handleUpdate(Object.assign({},{participants:[Object.assign(c,{is_messenger_blocked:a})]}));return 0}},q=function(a){a=new(b("MessengerCommerceTypedLogger"))().setEvent(a).setUserFbid(g).setPageID(e).setDebugData("www_messenger");a.log();return 0},r=function(){if(d){b("MercuryThreadActions").getForFBID(g).unblockOnMessengerDotCom(f);p(!1);return q("user_control_v2_unblocked")}else{b("MercuryThreadActions").getForFBID(g).blockOnMessengerDotCom(f);p(!0);return q("user_control_v2_blocked")}},s=function(a){b("MercuryThreadActions").getForFBID(g).updateMuteSetting(f,a);return q("user_control_v2_muted")},t=function(){return q("user_control_menu_clicked")},u=function(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(0)},v=function(){if(c){b("MercuryThreadActions").getForFBID(g).unmute(f);return q("user_control_v2_unmuted")}else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(0,0,b("MessengerMuteDialogBootloaderReact.bs").make(s,u,[]))})};return[o[0],o[1],o[2],o[3],function(){return q("user_control_v2_impression")},o[5],o[6],o[7],o[8],function(){var e=c?j:i;e=b("ReasonReact.bs").element(0,0,b("MessengerMenuReact.bs").MenuItem[0](0,e,[v],0,[]));var f=d?l:k;f=b("ReasonReact.bs").element(0,0,b("MessengerMenuReact.bs").MenuItem[0](0,f,[r],0,[]));e=b("ReasonReact.bs").element(0,0,b("MessengerMenuReact.bs").Menu[0]([e,f]));f=d?n:m;return b("ReasonReact.bs").element(0,0,b("MessengerPopoverMenuReact.bs").make([a],0,0,e,0,[t],[b("ReasonReact.bs").element(0,0,b("LinkReact.bs").make(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,[b("ReasonReact.bs").element(0,0,b("ImageReact.bs").make(0,0,[f],[32],0,[40],0,[]))]))]))},o[10],o[11],o[12],o[13]]}f.mute=i;f.unmute=j;f.block=k;f.unblock=l;f.unblocked_button_image_path=m;f.blocked_button_image_path=n;f.component=o;f.sendSubscriptionAction=a;f.make=c}),null);
__d("BootloadableMessengerUserControlsButtonReact.bs",["MessengerUserControlsButtonReact.bs"],(function(a,b,c,d,e,f){"use strict";a=[b("MessengerUserControlsButtonReact.bs").mute,b("MessengerUserControlsButtonReact.bs").unmute,b("MessengerUserControlsButtonReact.bs").block,b("MessengerUserControlsButtonReact.bs").unblock,b("MessengerUserControlsButtonReact.bs").unblocked_button_image_path,b("MessengerUserControlsButtonReact.bs").blocked_button_image_path,b("MessengerUserControlsButtonReact.bs").component,b("MessengerUserControlsButtonReact.bs").sendSubscriptionAction,b("MessengerUserControlsButtonReact.bs").make];f.bootloadable=a}),null);