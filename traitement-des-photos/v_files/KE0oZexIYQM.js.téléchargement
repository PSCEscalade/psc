if (self.CavalryLogger) { CavalryLogger.start_js(["qlG52"]); }

__d("ProfileDiscoveryIntentStatus",[],(function(a,b,c,d,e,f){e.exports={DISABLED:"DISABLED",NO_INTENT_SENT_OR_RECEIVED:"NO_INTENT_SENT_OR_RECEIVED",INTENT_SENT:"INTENT_SENT",INTENT_RECEIVED:"INTENT_RECEIVED",INTENT_SENT_AND_RECEIVED:"INTENT_SENT_AND_RECEIVED",INTENT_MATCH_SENT:"INTENT_MATCH_SENT",INTENT_MATCH_RECEIVED:"INTENT_MATCH_RECEIVED"}}),null);
__d("ProfileDiscoveryIntentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileDiscoveryIntentLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileDiscoveryIntentLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileDiscoveryIntentLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDashboardReferrerTypeString=function(a){this.$1.dashboard_referrer_type_string=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIntentStatus=function(a){this.$1.intent_status=a;return this};a.prototype.setIntentType=function(a){this.$1.intent_type=a;return this};a.prototype.setPreviousIntentType=function(a){this.$1.previous_intent_type=a;return this};a.prototype.setProfileID=function(a){this.$1.profile_id=a;return this};a.prototype.setReferrerTypeString=function(a){this.$1.referrer_type_string=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={dashboard_referrer_type_string:!0,event:!0,intent_status:!0,intent_type:!0,previous_intent_type:!0,profile_id:!0,referrer_type_string:!0,vc:!0};e.exports=a}),null);
__d("ProfileDiscoveryIntentButton",["BasicFBNux","Event"],(function(a,b,c,d,e,f){a={listen:function(a,c){b("Event").listen(a,"click",function(){return c.hide()})},registerNUXEvents:function(a,c){b("BasicFBNux").onView(c),b("BasicFBNux").subscribeHide(a,c)}};e.exports=a}),null);
__d("ProfileDiscoveryIntentRef",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_PROFILE:1,WWW_HOVERCARD:2,MTOUCH_ACTION_BAR:3,MTOUCH_BANNER:4,IOS_PROFILE:5,IOS_PROFILE_BANNER:6,IOS_DASHBOARD:7,IOS_ENTITY_CARD:8,IOS_ENTITY_CARD_BANNER:9,ANDROID_PROFILE:10,ANDROID_PROFILE_BANNER:11,ANDROID_DASHBOARD:12,ANDROID_ENTITY_CARD:13,ANDROID_ENTITY_CARD_BANNER:14,WWW_BANNER:15,IOS_PROFILE_DISCOVERY_PEOPLE_LIST:16,MTOUCH_DASHBOARD:17,WWW_ENTITY_CARD:18,WWW_DASHBOARD:19,ANDROID_PROFILE_DISCOVERY_PEOPLE_LIST:20,ANDROID_PROFILE_DISCOVERY_PEOPLE_GRID:21,MTOUCH_SUGGESTIONS:22,WWW_SUGGESTIONS:23,ANDROID_SEARCH_CTA:24,PROFILE_SELECTOR:25,DASHBOARD_SELECTOR:26,ENTITY_CARD_SELECTOR:27,MTOUCH_ENTITY_CARD:28,HOVERCARD_SELECTOR:29})}),null);
__d("ProfileDiscoveryIntentsSelectorLayer.react",["cx","BootloadedComponent.react","JSResource","React","ReactAbstractContextualDialog","ReactLayer","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"SelectorLayer",theme:{wrapperClassName:"_4wet"}}));h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},b("React").createElement(i,{autoFocus:!1,position:"above",shown:!0,contextRef:this.$1()},b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("ProfileDiscoveryIntentsMenu.react").__setRef("ProfileDiscoveryIntentsSelectorLayer.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"large"})},this.props))))};a.prototype.$1=function(){if(this.props.contextRef)return this.props.contextRef;else if(this.props.button)return function(){return this.props.button}.bind(this);else return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("XProfileDiscoverySendIntentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/discovery_intents/send/",{intent_type:{type:"String"},recipient_id:{type:"FBID"},ref:{type:"Enum",enumType:0}})}),null);
__d("ProfileDiscoveryIntentsLink.react",["AsyncRequest","Button","Event","ProfileDiscoveryIntentStatus","ProfileDiscoveryIntentsSelectorLayer.react","ProfileDiscoveryIntentRef","ProfileDiscoveryIntentTypedLogger","React","ReactRenderer","SimpleXUIDialog","SubscriptionsHandler","XProfileDiscoverySendIntentController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=525,i=750;a=babelHelpers.inherits(j,b("React").Component);g=a&&a.prototype;function j(a){__p&&__p();g.constructor.call(this,a),this.$6=function(){return this.setState({mouseOverMenu:!0},function(){return this.$7()}.bind(this))}.bind(this),this.$8=function(){return this.setState({mouseOverMenu:!1},function(){!this.state.mouseOverMenu&&!this.state.mouseOverButton&&this.$9()}.bind(this))}.bind(this),this.$3=function(){return this.setState({mouseOverButton:!0},function(){return this.$7()}.bind(this))}.bind(this),this.$4=function(){return this.setState({mouseOverButton:!1},function(){!this.state.mouseOverMenu&&!this.state.mouseOverButton&&this.$9()}.bind(this))}.bind(this),this.$5=function(){this.props.intentStatus===b("ProfileDiscoveryIntentStatus").INTENT_SENT||this.props.intentStatus===b("ProfileDiscoveryIntentStatus").INTENT_MATCH_SENT?(this.$10(this.props.intentType,"cancel_tap",this.props.buttonRef),b("SimpleXUIDialog").showConfirm(this.props.cancelConfirmTitle,this.props.cancelConfirmTitle,function(a){return a&&this.$11()}.bind(this))):this.$11()}.bind(this),this.$13=function(a){if((this.props.intentStatus===b("ProfileDiscoveryIntentStatus").INTENT_SENT||this.props.intentStatus===b("ProfileDiscoveryIntentStatus").INTENT_MATCH_SENT)&&a===this.props.intentType)this.$10(a,"selector_no_op",this.props.flyoutRef),this.$14();else{this.$12();a=b("XProfileDiscoverySendIntentController").getURIBuilder().setString("intent_type",a).setFBID("recipient_id",this.props.userID).setEnum("ref",b("ProfileDiscoveryIntentRef")[this.props.flyoutRef]).getURI();new(b("AsyncRequest"))().setURI(a).send()}}.bind(this),this.$14=function(){return this.setState({menuShown:!1,mouseOverButton:!1,mouseOverMenu:!1})}.bind(this),this.$15=function(){return this.setState({menuShown:!0})}.bind(this),this.state={menuShown:!1,mouseOverButton:!1,mouseOverMenu:!1},this.$2=new(b("SubscriptionsHandler"))()}j.prototype.componentDidMount=function(){this.$2.addSubscriptions(b("Event").listen(this.props.button,"mouseenter",this.$3),b("Event").listen(this.props.button,"mouseleave",this.$4),b("Event").listen(this.props.button,"click",this.$5))};j.prototype.componentWillUnmount=function(){this.$2.release()};j.prototype.$11=function(){this.$12(),new(b("AsyncRequest"))().setURI(this.props.sendURI).send()};j.prototype.$7=function(){clearTimeout(this.$1);var a=h;this.state.menuShown||(this.$1=setTimeout(this.$15,a))};j.prototype.$9=function(){clearTimeout(this.$1);var a=i;this.state.menuShown&&(this.$1=setTimeout(function(){this.$10(null,"selector_no_op",this.props.flyoutRef),this.$14()}.bind(this),a))};j.prototype.$16=function(){clearTimeout(this.$1),this.$2.release(),this.$14()};j.prototype.$12=function(){this.$16(),b("Button").setEnabled(this.props.button,!1)};j.prototype.$10=function(a,event,c){new(b("ProfileDiscoveryIntentTypedLogger"))().setEvent(event).setIntentStatus(this.props.intentStatus).setIntentType(a).setPreviousIntentType(this.props.intentType).setProfileID(this.props.userID).setReferrerTypeString(c).log()};j.prototype.render=function(){return!this.state.menuShown?null:b("React").createElement(b("ProfileDiscoveryIntentsSelectorLayer.react"),babelHelpers["extends"]({onIntentClick:this.$13,onMouseLeave:this.$8,onMouseEnter:this.$6},this.props))};j.registerSelector=function(a,c){b("ReactRenderer").constructAndRenderComponent(j,c,a)};e.exports=j}),null);